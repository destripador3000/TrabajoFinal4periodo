<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Modificar Libro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="background-image" style="background-image: url('{{ url_for('static', filename='images/libro1.jpeg') }}'); background-size: cover; background-position: center;">
    <div class="container mt-5">
        <div class="card p-4 shadow-lg" style="max-width: 600px; margin: auto; background: rgba(255, 255, 255, 0.9); border-radius: 15px;">
            <h2 class="text-center">Modificar Libro</h2>
            
            <!-- Formulario para ingresar el ID -->
            <form method="POST">
                <input type="number" class="form-control mb-3" name="id_libro" placeholder="Ingrese ID del libro" required>
                <button type="submit" name="buscar" class="btn btn-danger w-100">Buscar</button>
            </form>
            
            {% if libro %}
            <!-- Formulario de modificación -->
            <form method="POST">
                <input type="hidden" name="id_libro" value="{{ libro.id }}">
                <input type="text" class="form-control mb-3" name="codigo" value="{{ libro.codigo }}" required>
                <input type="text" class="form-control mb-3" name="nombre" value="{{ libro.nombre }}" required>
                <input type="text" class="form-control mb-3" name="autor" value="{{ libro.autor }}" required>
                
                <!-- Selección de Disponibilidad -->
                <select class="form-control mb-3" name="disponibilidad" required>
                    <option value="Disponible" {% if libro.disponibilidad == 'Disponible' %}selected{% endif %}>Disponible</option>
                    <option value="No Disponible" {% if libro.disponibilidad == 'No Disponible' %}selected{% endif %}>No Disponible</option>
                </select>
                
                <!-- Selección de Género -->
                <select class="form-control mb-3" name="genero" required>
                    <option value="ficcion" {% if libro.genero == 'ficcion' %}selected{% endif %}>Ficción</option>
                    <option value="no_ficcion" {% if libro.genero == 'no_ficcion' %}selected{% endif %}>No Ficción</option>
                    <option value="ciencia" {% if libro.genero == 'ciencia' %}selected{% endif %}>Ciencia</option>
                    <option value="historia" {% if libro.genero == 'historia' %}selected{% endif %}>Historia</option>
                    <option value="arte" {% if libro.genero == 'arte' %}selected{% endif %}>Arte</option>
                </select>
                
                <button type="submit" name="modificar" class="btn btn-danger w-100">Modificar</button>
            </form>
            {% endif %}
            
            <div class="text-center mt-3">
                <a href="{{ url_for('index') }}" class="btn btn-light">Inicio</a>
                <a href="{{ url_for('gestionLibro') }}" class="btn btn-light">Volver</a>
            </div>
        </div>
    </div>
    <img class="imagen mt-3 d-block mx-auto" src="{{ url_for('static', filename='images/univalle.png') }}" alt="Univalle Logo">
</body>
</html>
